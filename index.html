<!DOCTYPE html>
<html lang="kg">
<head>
    <meta name="google-site-verification" content="U9H3QG7sUI5RlWq_SikZb3IJDP1ZnV1n3FVw2ei4lqk" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nookat Go - –¢–∞–º–∞–∫ –∂–µ—Ç–∫–∏—Ä“Ø“Ø</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        :root { --primary: #2ecc71; --dark: #2c3e50; --bg: #f8f9fa; --white: #ffffff; }
        * { margin:0; padding:0; box-sizing:border-box; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: var(--dark); overflow-x: hidden; }
        .top-nav { background: var(--white); padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; position: sticky; top:0; z-index: 1000; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .logo { font-size: 24px; font-weight: 900; color: var(--dark); text-decoration: none; }
        .logo span { color: var(--primary); }
        .lang-selector span { cursor: pointer; padding: 5px 10px; font-weight: 700; font-size: 14px; color: #ccc; }
        .lang-selector span.active { color: var(--primary); border-bottom: 2px solid var(--primary); }
        .hero { background: var(--white); padding: 20px; text-align: center; }
        .search-box { background: #f1f3f5; padding: 12px; border-radius: 15px; display: flex; align-items: center; margin-top: 15px; }
        .search-box input { border: none; background: transparent; width: 100%; padding-left: 10px; outline: none; font-size: 16px; }
        .categories { display: flex; overflow-x: auto; padding: 15px; gap: 10px; scrollbar-width: none; }
        .categories::-webkit-scrollbar { display: none; }
        .cat-item { padding: 10px 20px; border: none; border-radius: 25px; background: var(--white); white-space: nowrap; cursor: pointer; font-weight: 600; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .cat-item.active { background: var(--primary); color: white; }
        .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 15px 15px 100px 15px; }
        .food-card { background: var(--white); border-radius: 20px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.05); transition: 0.2s; }
        .food-card:active { transform: scale(0.96); }
        .food-card img { width: 100%; height: 130px; object-fit: cover; }
        .food-info { padding: 12px; }
        .food-info h3 { font-size: 14px; margin-bottom: 5px; height: 38px; overflow: hidden; }
        .food-price { color: var(--primary); font-weight: 900; font-size: 16px; }
        .bottom-cart { position: fixed; bottom: 20px; left: 5%; width: 90%; background: var(--dark); color: white; padding: 18px; border-radius: 20px; display: flex; justify-content: space-between; align-items: center; z-index: 999; cursor: pointer; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .modal { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); display:none; align-items:flex-end; z-index: 2000; backdrop-filter: blur(5px); }
        .modal-content { background:white; width:100%; border-radius:30px 30px 0 0; padding:25px; max-height:85vh; overflow-y:auto; animation: slideUp 0.3s ease-out; }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
        input, select { width: 100%; padding: 14px; border: 1.5px solid #eee; border-radius: 12px; font-size: 16px; margin: 10px 0; outline: none; }
        .order-btn { width: 100%; background: #2ecc71; color: white; padding: 18px; border: none; border-radius: 15px; font-size: 18px; font-weight: 900; cursor: pointer; margin-top: 15px; display: flex; justify-content: center; align-items: center; gap: 10px; }
        #mbankBox { background: #eafff2; padding: 15px; border: 2px dashed #2ecc71; border-radius: 15px; text-align: center; margin: 10px 0; display: none; }
    </style>
</head>
<body>

    <nav class="top-nav">
        <a href="#" class="logo">NOOKAT<span>GO</span></a>
        <div class="lang-selector">
            <span id="l-kg" class="active" onclick="setLang('kg')">KG</span>
            <span id="l-ru" onclick="setLang('ru')">RU</span>
        </div>
    </nav>

    <div class="hero">
        <h1 id="h-title">–ù–æ–æ–∫–∞—Ç—Ç–∞–≥—ã —ç“£ –º—ã–∫—Ç—ã –¥–∞–∞–º–¥–∞—Ä</h1>
        <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" oninput="searchFood()" placeholder="–ò–∑–¥”©”©...">
        </div>
    </div>

    <div class="categories">
        <button id="cat-all" class="cat-item active" onclick="filterMenu('all', event)">–ë–∞–∞—Ä—ã</button>
        <button id="cat-nat" class="cat-item" onclick="filterMenu('national', event)">–£–ª—É—Ç—Ç—É–∫</button>
        <button id="cat-fast" class="cat-item" onclick="filterMenu('fastfood', event)">–§–∞—Å—Ç—Ñ—É–¥</button>
        <button id="cat-drink" class="cat-item" onclick="filterMenu('drinks', event)">–°—É—É–ª–∞—Ä</button>
    </div>

    <main id="menu-grid" class="menu-grid"></main>

    <div id="cartBar" class="bottom-cart" onclick="showCart()" style="display:none;">
        <div style="display:flex; align-items:center; gap:8px;">
            <i class="fas fa-shopping-bag"></i>
            <span id="cartCount" style="background:var(--primary); padding:2px 8px; border-radius:8px;">0</span>
        </div>
        <span id="cartSum">0</span> <span class="som-text">—Å–æ–º</span>
    </div>

    <div id="foodPreviewModal" class="modal" onclick="if(event.target == this) closePreview()">
        <div class="modal-content" style="text-align: center; border-radius: 30px; margin-bottom: 20px; width: 95%; align-self: center;">
            <img id="prevImg" src="" style="width: 100%; height: 220px; object-fit: cover; border-radius: 20px;">
            <h2 id="prevName" style="margin-top:15px; font-size: 22px;"></h2>
            <p id="prevDesc" style="color: #666; font-size: 14px; margin: 10px 0; line-height: 1.4; padding: 0 10px;"></p>
            <p id="prevPrice" style="color: #2ecc71; font-size: 24px; font-weight: 800; margin: 10px 0;"></p>
            <button id="add-to-cart-btn" class="order-btn" onclick="confirmAdd()">–°–ï–ë–ï–¢–ö–ï –ö–û–®–£–£</button>
            <button id="back-btn" onclick="closePreview()" style="background: none; border: none; color: gray; margin-top: 15px; cursor: pointer; font-size: 16px;">–ê—Ä—Ç–∫–∞ –∫–∞–π—Ç—É—É</button>
        </div>
    </div>

    <div id="cartModal" class="modal" onclick="if(event.target == this) closeCart()">
        <div class="modal-content">
            <h2 id="cart-title" style="margin-bottom:15px;">–°–µ–±–µ—Ç</h2>
            <div id="cartItemsList" style="margin-bottom:20px;"></div>

            <select id="delivery" onchange="calcTotal()">
                </select>

            <select id="payment" onchange="toggleMbank(this.value)">
                </select>

            <div id="mbankBox">
                <p>–ù–æ–º–µ—Ä: <b style="font-size:18px;">0556 61 61 74</b></p>
                <button id="copy-btn" onclick="copyMB()" style="background:#2ecc71; color:white; border:none; padding:5px 10px; border-radius:8px; margin-top:5px; cursor:pointer;">–ö”©—á“Ø—Ä“Ø“Ø üìã</button>
            </div>

            <input type="text" id="uName" placeholder="–ê—Ç—ã“£—ã–∑...">
            <input type="text" id="uAddr" placeholder="–î–∞—Ä–µ–≥–∏“£–∏–∑...">

            <div style="margin-top:15px; font-size:20px; font-weight:900; display:flex; justify-content:space-between;">
                <span id="total-text">–ñ–∞–ª–ø—ã:</span>
                <span><span id="finalSum">0</span> <span class="som-text">—Å–æ–º</span></span>
            </div>

            <button id="send-btn" class="order-btn" onclick="sendOrder()" style="background: #25d366;">
                <i class="fab fa-whatsapp"></i> –ñ”®–ù”®–¢“Æ“Æ
            </button>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
        import { getDatabase, ref, push, set, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCjsFILpJUY9K1gyJx-f8-9BkFu7T3-g-A",
            authDomain: "nookat-go-6fcf5.firebaseapp.com",
            projectId: "nookat-go-6fcf5",
            databaseURL: "https://nookat-go-6fcf5-default-rtdb.firebaseio.com/",
            appId: "1:423808562168:web:7cabb4d7b6415d0fcd5c0d"
        };
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        const foods = [
            { id: 1, cat: "national", kg: "–û—à –∞—à—ã (–ü–ª–æ–≤)", ru: "–û—à—Å–∫–∏–π –ü–ª–æ–≤", price: 250, desc_kg: "–ù—É–∫—É—Ä–∞ –û—à –∞—à—ã...", desc_ru: "–ù–∞—Å—Ç–æ—è—â–∏–π –æ—à—Å–∫–∏–π –ø–ª–æ–≤...", img: "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400" },
            { id: 2, cat: "national", kg: "–ß–æ—é–ª–º–∞ –õ–∞–≥–º–∞–Ω", ru: "–¢—è–Ω—É—Ç—ã–π –õ–∞–≥–º–∞–Ω", price: 220, desc_kg: "–ö–æ–ª–¥–æ —á–æ—é–ª–≥–∞–Ω –∫–∞–º—ã—Ä...", desc_ru: "–¢—è–Ω—É—Ç–æ–µ –≤—Ä—É—á–Ω—É—é —Ç–µ—Å—Ç–æ...", img: "https://plus.unsplash.com/premium_photo-1664472637341-3ec829d1f4df?w=400" },
            { id: 3, cat: "fastfood", kg: "–ß–∏–∑–±—É—Ä–≥–µ—Ä XL", ru: "–ß–∏–∑–±—É—Ä–≥–µ—Ä XL", price: 180, desc_kg: "–®–∏—Ä–µ–ª“Ø“Ø –∫–æ—Ç–ª–µ—Ç–∞...", desc_ru: "–°–æ—á–Ω–∞—è –∫–æ—Ç–ª–µ—Ç–∞...", img: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400" },
            { id: 10, cat: "drinks", kg: "Coca-Cola 1–ª", ru: "Coca-Cola 1–ª", price: 85, desc_kg: "–ì–∞–∑–¥—É—É —Å—É—É—Å—É–Ω–¥—É–∫", desc_ru: "–ì–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫", img: "https://images.unsplash.com/photo-1622483767028-3f66f32aef97?w=400" }
            // –ö–∞–ª–≥–∞–Ω —Ç–∞–º–∞–∫—Ç–∞—Ä–¥—ã —É—à—É–ª —Ñ–æ—Ä–º–∞—Ç—Ç–∞ –∫–æ—à—Å–æ“£—É–∑ –±–æ–ª–æ—Ç
        ];

        const translations = {
            kg: {
                title: "–ù–æ–æ–∫–∞—Ç—Ç–∞–≥—ã —ç“£ –º—ã–∫—Ç—ã –¥–∞–∞–º–¥–∞—Ä", search: "–ò–∑–¥”©”©...", all: "–ë–∞–∞—Ä—ã", nat: "–£–ª—É—Ç—Ç—É–∫", fast: "–§–∞—Å—Ç—Ñ—É–¥", drink: "–°—É—É–ª–∞—Ä", 
                cart: "–°–µ–±–µ—Ç", som: "—Å–æ–º", add: "–°–ï–ë–ï–¢–ö–ï –ö–û–®–£–£", back: "–ê—Ä—Ç–∫–∞ –∫–∞–π—Ç—É—É", name: "–ê—Ç—ã“£—ã–∑...", addr: "–î–∞—Ä–µ–≥–∏“£–∏–∑...", 
                total: "–ñ–∞–ª–ø—ã:", send: "–ñ”®–ù”®–¢“Æ“Æ", copy: "–ö”©—á“Ø—Ä“Ø“Ø üìã", inside: "–ù–æ–æ–∫–∞—Ç –∏—á–∏ (0 —Å–æ–º)", outside: "–®–∞–∞—Ä —Å—ã—Ä—Ç—ã (+150 —Å–æ–º)", cash: "üíµ –ù–∞–ª–∏—á–∫–∏"
            },
            ru: {
                title: "–õ—É—á—à–∞—è –µ–¥–∞ –≤ –ù–æ–æ–∫–∞—Ç–µ", search: "–ü–æ–∏—Å–∫...", all: "–í—Å–µ", nat: "–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è", fast: "–§–∞—Å—Ç—Ñ—É–¥", drink: "–ù–∞–ø–∏—Ç–∫–∏", 
                cart: "–ö–æ—Ä–∑–∏–Ω–∞", som: "—Å–æ–º", add: "–î–û–ë–ê–í–ò–¢–¨ –í –ö–û–†–ó–ò–ù–£", back: "–ù–∞–∑–∞–¥", name: "–í–∞—à–µ –∏–º—è...", addr: "–í–∞—à –∞–¥—Ä–µ—Å...", 
                total: "–ò—Ç–æ–≥–æ:", send: "–û–¢–ü–†–ê–í–ò–¢–¨", copy: "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å üìã", inside: "–í–Ω—É—Ç—Ä–∏ –ù–æ–æ–∫–∞—Ç–∞ (0 —Å–æ–º)", outside: "–ó–∞ –≥–æ—Ä–æ–¥ (+150 —Å–æ–º)", cash: "üíµ –ù–∞–ª–∏—á–Ω—ã–µ"
            }
        };

        let cart = [];
        let lang = 'kg';
        let tempFood = null;

        window.setLang = (l) => {
            lang = l;
            const t = translations[l];
            document.getElementById('l-kg').className = l === 'kg' ? 'active' : '';
            document.getElementById('l-ru').className = l === 'ru' ? 'active' : '';
            
            // –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—Ç–∏ –∫–æ—Ç–æ—Ä—É—É
            document.getElementById('h-title').innerText = t.title;
            document.getElementById('searchInput').placeholder = t.search;
            document.getElementById('cat-all').innerText = t.all;
            document.getElementById('cat-nat').innerText = t.nat;
            document.getElementById('cat-fast').innerText = t.fast;
            document.getElementById('cat-drink').innerText = t.drink;
            document.getElementById('cart-title').innerText = t.cart;
            document.querySelectorAll('.som-text').forEach(el => el.innerText = t.som);
            document.getElementById('add-to-cart-btn').innerText = t.add;
            document.getElementById('back-btn').innerText = t.back;
            document.getElementById('uName').placeholder = t.name;
            document.getElementById('uAddr').placeholder = t.addr;
            document.getElementById('total-text').innerText = t.total;
            document.getElementById('copy-btn').innerText = t.copy;

            // –°–µ–ª–µ–∫—Ç—Ç–µ—Ä–¥–∏ –∫–æ—Ç–æ—Ä—É—É
            document.getElementById('delivery').innerHTML = `
                <option value="0">${t.inside}</option>
                <option value="150">${t.outside}</option>`;
            document.getElementById('payment').innerHTML = `
                <option value="–ù–∞–ª–∏—á–∫–∏">${t.cash}</option>
                <option value="MBANK">üíé MBANK</option>`;

            render();
            updateBar();
        };

        function render(items = foods) {
            const grid = document.getElementById('menu-grid');
            grid.innerHTML = items.map(f => `
                <div class="food-card" onclick="openPreview(${f.id})">
                    <img src="${f.img}">
                    <div class="food-info">
                        <h3>${lang === 'kg' ? f.kg : f.ru}</h3>
                        <div class="food-price">${f.price} —Å–æ–º</div>
                    </div>
                </div>`).join('');
        }

        window.openPreview = (id) => {
            tempFood = foods.find(x => x.id === id);
            document.getElementById('prevImg').src = tempFood.img;
            document.getElementById('prevName').innerText = lang === 'kg' ? tempFood.kg : tempFood.ru;
            document.getElementById('prevDesc').innerText = lang === 'kg' ? tempFood.desc_kg : tempFood.desc_ru;
            document.getElementById('prevPrice').innerText = tempFood.price + " —Å–æ–º";
            document.getElementById('foodPreviewModal').style.display = 'flex';
        };

        window.confirmAdd = () => { cart.push(tempFood); updateBar(); closePreview(); };
        window.closePreview = () => { document.getElementById('foodPreviewModal').style.display = 'none'; };

        function updateBar() {
            const sum = cart.reduce((a, b) => a + b.price, 0);
            document.getElementById('cartBar').style.display = cart.length > 0 ? 'flex' : 'none';
            document.getElementById('cartCount').innerText = cart.length;
            document.getElementById('cartSum').innerText = sum;
        }

        window.showCart = () => {
            document.getElementById('cartModal').style.display = 'flex';
            const list = document.getElementById('cartItemsList');
            list.innerHTML = cart.map((f, i) => `
                <div style="display:flex; justify-content:space-between; margin-bottom:10px; border-bottom:1px solid #eee; padding-bottom:5px;">
                    <span style="font-size:14px;">${lang === 'kg' ? f.kg : f.ru}</span>
                    <b>${f.price}—Å <i class="fas fa-trash" style="color:red; margin-left:10px; cursor:pointer;" onclick="remove(${i})"></i></b>
                </div>`).join('');
            calcTotal();
        };

        window.remove = (i) => { cart.splice(i, 1); cart.length === 0 ? closeCart() : showCart(); updateBar(); };
        window.closeCart = () => { document.getElementById('cartModal').style.display = 'none'; };
        window.calcTotal = () => {
            const sub = cart.reduce((a, b) => a + b.price, 0);
            const del = parseInt(document.getElementById('delivery').value);
            document.getElementById('finalSum').innerText = sub + del;
        };

        window.sendOrder = async () => {
            const n = document.getElementById('uName').value.trim();
            const a = document.getElementById('uAddr').value.trim();
            if(!n || !a) return alert(lang === 'kg' ? "–ú–∞–∞–ª—ã–º–∞—Ç—Ç—ã —Ç–æ–ª—Ç—É—Ä—É“£—É–∑!" : "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ!");
            const msg = `üöÄ *–ó–ê–ö–ê–ó*\nüë§ ${n}\nüìç ${a}\nüç¥ ${cart.map(f => f.kg).join(", ")}\nüí∞ ${document.getElementById('finalSum').innerText} —Å–æ–º`;
            window.location.assign(`https://api.whatsapp.com/send?phone=996556616174&text=${encodeURIComponent(msg)}`);
        };

        window.searchFood = () => {
            const q = document.getElementById('searchInput').value.toLowerCase();
            render(foods.filter(f => f.kg.toLowerCase().includes(q) || f.ru.toLowerCase().includes(q)));
        };

        window.filterMenu = (c, e) => {
            document.querySelectorAll('.cat-item').forEach(b => b.classList.remove('active'));
            e.target.classList.add('active');
            render(c === 'all' ? foods : foods.filter(f => f.cat === c));
        };

        window.toggleMbank = (v) => document.getElementById('mbankBox').style.display = v === 'MBANK' ? 'block' : 'none';
        window.copyMB = () => { navigator.clipboard.writeText("0556616174"); alert(lang === 'kg' ? "–ö”©—á“Ø—Ä“Ø–ª–¥“Ø!" : "–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!"); };

        setLang('kg');
    </script>
</body>
</html>






