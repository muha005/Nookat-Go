<!DOCTYPE html>
<html lang="kg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nookat Go - –¢–∞–º–∞–∫ –∂–µ—Ç–∫–∏—Ä“Ø“Ø</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body>

    <nav class="top-nav">
        <a href="#" class="logo">NOOKAT<span>GO</span></a>
        <div class="lang-selector">
            <span id="lang-kg" class="active" onclick="changeLang('kg')">KG</span>
            <span id="lang-ru" onclick="changeLang('ru')">RU</span>
        </div>
    </nav>

    <header class="hero-search">
        <h1 id="hero-title">–ù–æ–æ–∫–∞—Ç—Ç–∞–≥—ã —ç“£ –º—ã–∫—Ç—ã –¥–∞–∞–º–¥–∞—Ä</h1>
        <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" oninput="searchFood()" placeholder="–¢–∞–º–∞–∫ –∂–µ –∫–∞—Ñ–µ –∏–∑–¥”©”©...">
        </div>
    </header>

    <div class="categories-container">
        <div class="categories">
            <button class="cat-item active" onclick="filterMenu('all', event)">–ë–∞–∞—Ä—ã</button>
            <button class="cat-item" onclick="filterMenu('national', event)">–£–ª—É—Ç—Ç—É–∫</button>
            <button class="cat-item" onclick="filterMenu('turkish', event)">–¢“Ø—Ä–∫</button>
            <button class="cat-item" onclick="filterMenu('pizza', event)">–ü–∏—Ü—Ü–∞</button>
            <button class="cat-item" onclick="filterMenu('fastfood', event)">–§–∞—Å—Ç—Ñ—É–¥</button>
            <button class="cat-item" onclick="filterMenu('grill', event)">–®–∞—à–ª—ã–∫</button>
            <button class="cat-item" onclick="filterMenu('drinks', event)">–°—É—É–ª–∞—Ä</button>
        </div>
    </div>

    <main id="menu-grid" class="menu-grid"></main>

    <div id="cartBar" class="bottom-cart" onclick="showCart()">
        <div>
            <span id="cartCount">0</span>
            <span id="cart-view-text">–°–ï–ë–ï–¢</span>
        </div>
        <div><span id="cartSum">0</span> —Å–æ–º</div>
    </div>

    <div id="productModal" class="modal-overlay" onclick="if(event.target == this) closeProduct()">
        <div class="modal-content">
            <img id="modalImg" src="" alt="">
            <div class="modal-info">
                <h2 id="modalName"></h2>
                <p id="modalDesc" style="color: #666; margin: 10px 0;"></p>
                <button id="addBtnAction" class="add-to-cart-big">–°–µ–±–µ—Ç–∫–µ –∫–æ—à—É—É</button>
            </div>
        </div>
    </div>

    <div id="cartModal" class="modal-overlay" onclick="if(event.target == this) closeCart()">
        <div class="modal-content" style="max-height: 90vh; overflow-y: auto;">
            <h2 style="padding: 20px 20px 10px;">–°–∏–∑–¥–∏–Ω —Å–µ–±–µ—Ç–∏“£–∏–∑</h2>
            
            <div id="cartList" style="padding: 0 20px;"></div>

            <div style="padding: 20px;">
                <div style="margin-bottom: 15px;">
                    <label style="font-size: 13px; font-weight: 900; color: #444;">–ñ–ï–¢–ö–ò–†“Æ“Æ –ê–ô–ú–ê–ì–´:</label>
                    <select id="deliveryType" onchange="calculateTotal()" style="width:100%; padding:14px; border-radius:12px; border:2px solid #eee; margin-top: 5px; font-size: 16px;">
                        <option value="0">–ù–æ–æ–∫–∞—Ç –∏—á–∏ (–ê–∫—ã—Å—ã–∑)</option>
                        <option value="150">–®–∞–∞—Ä —Å—ã—Ä—Ç—ã (+150 —Å–æ–º)</option>
                    </select>
                </div>

                <div style="background: #f1f5ff; padding: 15px; border-radius: 15px; border: 1px solid #d1dbff; margin-bottom: 15px;">
                    <label style="font-size: 13px; font-weight: 900; color: #444;">–¢”®–õ”®–ú –´–ö–ú–ê–°–´:</label>
                    <select id="paymentMethod" onchange="toggleMbank(this.value)" style="width:100%; padding:14px; border-radius:12px; border:2px solid #eee; margin-top: 5px; font-weight: bold; font-size: 16px;">
                        <option value="–ù–∞–ª–∏—á–∫–∏">üíµ –ù–∞–ª–∏—á–∫–∏ (–ö—É—Ä—å–µ—Ä–≥–µ)</option>
                        <option value="MBANK">üíé MBANK (–ö–æ—Ç–æ—Ä—É—É)</option>
                    </select>
                    
                    <div id="mbankDetails" style="display:none; margin-top: 15px; text-align: center; background: white; padding: 15px; border-radius: 12px; border: 2px dashed #2ecc71;">
                        <p style="font-size: 14px; font-weight: bold; margin-bottom: 8px;">–ö–æ—Ç–æ—Ä—É—É “Ø—á“Ø–Ω –Ω–æ–º–µ—Ä:</p>
                        <div style="display: flex; align-items: center; justify-content: center; gap: 10px; background: #f9f9f9; padding: 10px; border-radius: 10px; border: 1px solid #eee; margin-bottom: 10px;">
                            <span style="font-size: 18px; font-weight: 900; color: #333;">0556 61 61 74</span>
                            <button onclick="copyNumber()" style="background: #2ecc71; color: white; border: none; padding: 8px 12px; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 12px;">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <p style="font-size: 12px; color: #666;">–ù–æ–º–µ—Ä–¥–∏ –∫”©—á“Ø—Ä“Ø–ø, –ú–±–∞–Ω–∫—Ç–∞–Ω –∫–æ—Ç–æ—Ä—É“£—É–∑.</p>
                    </div>
                </div>

                <div style="background: #f9f9f9; padding: 15px; border-radius: 15px;">
                    <input type="text" id="userName" placeholder="–ê—Ç—ã“£—ã–∑..." style="width:100%; padding:14px; border-radius:12px; border:2px solid #eee; margin-bottom: 10px; font-size: 16px; outline: none;">
                    <input type="text" id="userAddress" placeholder="–î–∞—Ä–µ–≥–∏“£–∏–∑ (–º–∏—Å: –õ–µ–Ω–∏–Ω 15)..." style="width:100%; padding:14px; border-radius:12px; border:2px solid #eee; font-size: 16px; outline: none;">
                </div>

                <div style="margin-top: 20px; display: flex; justify-content: space-between; align-items: center;">
                    <span style="font-weight: 900; font-size: 22px;">–ñ–∞–ª–ø—ã: <span id="finalSum" style="color: #2ecc71;">0</span> —Å–æ–º</span>
                </div>
                
                <button class="checkout-btn" onclick="checkout()" style="width:100%; background:#25d366; color:white; border:none; padding:18px; border-radius:15px; font-weight:900; font-size: 18px; margin-top: 15px; cursor: pointer;">
                    <i class="fab fa-whatsapp"></i> –ó–ê–ö–ê–ó–î–´ –ñ”®–ù”®–¢“Æ“Æ
                </button>
            </div>
        </div>
    </div>

    <script type="module" src="script.js"></script>

    <script>
        // –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—Ç–∏–∫ –∂–∞—Ä–¥–∞–º—á—ã —Ñ—É–Ω–∫—Ü–∏—è–ª–∞—Ä
        function toggleMbank(val) {
            const details = document.getElementById('mbankDetails');
            if(details) details.style.display = val === 'MBANK' ? 'block' : 'none';
        }

        // script.js –∏—á–∏–Ω–¥–µ–≥–∏ calculateTotal —á–∞–∫—ã—Ä—ã–ª–±–∞—Å–∞, —É—à—É–ª –∂–µ—Ä–¥–µ–Ω –∏—à—Ç–µ–π—Ç
        function calculateTotal() {
            if (window.calculateTotal) {
                window.calculateTotal();
            }
        }
    </script>
</body>
</html>
